<template name="layout">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../docs-assets/ico/favicon.png">

    <title>Simple chat</title>
  </head>

  <body>
    <!-- Wrap all page content here -->
    {{> yield}}

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  </body>
</template>

<template name="channel">
    <div class="container">
      <div class="col-md-3">
        {{> presentation}}
      </div>
      <div class="col-md-6">
        {{> chat}}        
      </div>
      <div class="col-md-3">
        {{> participants}}
      </div>
    </div>
</template>

<template name="homepage">
  <div class="container">
    <h1>Hello world ! </h1>
    <form class="form-inline" role="form">
      <div class="form-group">
        <input type="text" class="form-control" id="channelInput" placeholder="agoodname" maxlength="20" />
        <button type="submit" class="btn btn-default">Go !</button>
      </div>
    </form>
  </div>
</template>


<template name="presentation">
  <h1>SimpleChat</h1>
  <dl>
    <dt>Description</dt>
    <dd>A chat, easy to use, without any login or plug-in. It just works !!!</dd>
    <dt>A problem or a suggestion ?</dt>
    <dd>Contact me at benjamin.derville@utt.fr <br/> or on twitter : @mrbenderv</dd>

  </dl>
  <i>version : 0.0.1</i><br/>
  <i>made with meteor 0.8.2</i>
</template>

<template name="participants">
  <h3>Participants</h3>
  <ul>
    {{#each participants}}
      <li>{{ profile.name }} - online ? {{ status.online }}</li>
    {{/each}}
  </ul>
  <p>You can edit your name : </p>
  <input type="text" class="form-control" id="nameInput" placeholder="{{name}}" maxlength="40" />

</template>

<template name="chat">
  <div class="chat">
    <div class="conversation commentArea" id="scroll">
      {{#each messages }}
        <div class="{{authorCss author}}">
          {{breaklines message }}<br/>
          <i class="author">{{ name }}</i>
        </div>
        <p> </p>
      {{else}}
        <p> no message </p>
      {{/each}}
    </div>
    <div class="conversationInput"> 
      <input type="text" id="messageInput" class="form-control text" placeholder="Message..." maxlength="300">
    </div>
  </div>


  <script type="text/javascript">
    /* We just scroll down at the beginning *//*!!! Do not work !!! */
    window.onload = function(){
      var elem = document.getElementById('scroll');
      elem.scrollTop = elem.scrollHeight;
    }
  </script>

</template>